<!doctype html>
<html lang="en" xmlns:th="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="icon" href="../../../../favicon.ico">

    <title>昆明理工大学实验室管理系统</title>

    <!-- Bootstrap core CSS -->
    <link href="../../../../dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="../../../../../dist/css/*.css">
    <!-- Custom styles for this template -->
    <link href="dashboard.css" rel="stylesheet">
    <link href="menu.css" rel="stylesheet">
</head>

<body>
<nav class="navbar navbar-dark sticky-top bg-dark flex-md-nowrap p-0">
    <a class="navbar-brand col-sm-3 col-md-2 mr-0" href="#">昆明理工大学实验室管理系统</a>
    <ul class="navbar-nav px-3">
        <li class="nav-item text-nowrap">
            <a class="nav-link" href="/logout">退出登录</a>
        </li>
    </ul>
</nav>

<div class="container-fluid">
    <div class="row">
        <nav class="col-md-2 d-none d-md-block bg-light sidebar">
            <div class="sidebar-sticky" style="top: 20px;background-color: #494e53">
                <ul class="menu">
                    <li class="list" id="admin"><a href="#">用户管理</a>
                        <ul class="items">
                            <li> <a href="#" class="a" onclick="loadHtml('user/userPermAdmin')">用户权限管理 </a></li>
                        </ul>
                    </li>
                    <li class="list" id="consumable"><a href="#">耗材的管理</a>
                        <ul class="items">
                            <li> <a href="#" class="a" onclick="loadHtml('consumables/initAddbc')">添加耗材分类 </a></li>
                            <li> <a href="#" class="a" onclick="loadHtml('consumables/initAddbb')">每期耗材的申报 </a></li>
                            <li> <a href="#" class="a" onclick="loadHtml('consumables/initAddbe')">每期耗材的领用 </a></li>
                            <li> <a href="#" class="a" onclick="loadHtml('consumables/initAddbd')">每期耗材的建账登记表</a></li>
                            <li> <a href="#" class="a" onclick="loadHtml('consumables/querybc')">所有耗材的库存清单</a></li>
                        </ul>
                    </li>
                    <li class="list"><a href="#">实验室资产</a>
                        <ul class="items">
                            <li> <a href="#"  class="a" onclick="loadHtml('labAssets/initAdd')"> 新建资产 </a></li>
                            <li> <a href="#"  class="a" onclick="loadHtml('labAssets/initMaintain')"> 资产信息(变更管理员)</a></li>
                            <li> <a href="#"  class="a" onclick="loadHtml('labAssets/initInventory')"> 资产清点</a></li>
                            <li> <a href="#"  class="a" onclick="loadHtml('labAssets/initCodeMissing')"> 条码缺失</a></li>
                            <li> <a href="#"  class="a" onclick="loadHtml('labAssets/initAssestInAndOut')"> 资产的借出</a></li>
                        </ul>
                    </li>
                    <li class="list"><a href="#">管理中心</a>
                        <ul class="items">
                            <li> <a href="#"  class="a" onclick="loadHtml('labAssets/initCodeMissingShow')"> 条码申请管理 </a></li>
                            <li> <a href="#"  class="a" onclick="loadHtml('labAssets/initFeedbackShow')"> 问题反馈查看</a></li>
                            <li> <a href="#"  class="a" onclick="loadHtml('consumables/initBbManage')"> 耗材申报管理</a></li>
                        </ul>
                    </li>
                    <li class="list"><a href="#">实验室基础信息</a>
                        <ul class="items">
                            <li> <a href="#"  class="a" onclick="loadHtml('LabInfo/init')"> 添加实验室信息 </a></li>
                            <li> <a href="#"  class="a" onclick="loadHtml('LabInfo/initModify')"> 维护实验室信息 </a></li>
                        </ul>
                    </li>
                    <li class="list"><a href="#">实验室钥匙管理</a>
                        <ul class="items">
                            <li> <a href="#"  class="a" onclick="loadHtml('LabInfo/initBorrow')"> 借用钥匙的登记 </a></li>
                        </ul>
                    </li>
                    <li class="list" id="checkTable"><a href="#">实验室检查记录</a>
                    </li>
                    <li class="list" id="teachingAdmin"><a href="#">实验室教学管理</a>
                        <ul class="items">
                            <li> <a href="#" class="a" onclick="loadHtml('tTable/timeTable')"> 实验室安排的实验实训 </a></li>
                            <li> <a href="#" class="a" onclick="loadHtml('class/classPro')"> 实验室开设的项目 </a></li>
                        </ul>
                    </li>
                    <li class="list" id="simulate"><a href="#">实验室模拟</a>
                    </li>
                    <li class="list"><a href="#">个人中心</a>
                        <ul class="items">
                            <li> <a href="#"  class="a" onclick="loadHtml('labAssets/initFeedback')"> 问题反馈</a></li>
                        </ul>
                    </li>
                </ul>

            </div>
        </nav>

        <div role="main" class="col-md-9 ml-sm-auto col-lg-10 pt-3 px-4" id="testDiv">

        </div>
    </div>
</div>
<script src="jquery-3.3.1.js"></script>
<!-- Bootstrap core JavaScript
================================================== -->
<!-- Placed at the end of the document so the pages load faster -->
<!--<script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>-->
<script>window.jQuery || document.write('<script src="../../../../assets/js/vendor/jquery-slim.min.js"><\/script>')
</script>
<script src="../../../../assets/js/vendor/popper.min.js"></script>
<script src="../../../../dist/js/bootstrap.min.js"></script>
<script src="../../../../dist/js/bootstrap-table.min.js"></script>
<script src="../../../../dist/js/bootstrap-table-zh-CN.min.js"></script>
<script src="../../../../assets/js/load.js"></script>

<!-- Icons -->
<script src="https://unpkg.com/feather-icons/dist/feather.min.js"></script>
<script src="../../../../assets/js/timeTable/Timetables.min.js"></script>
<script src="../../../../dist/js/bootstrap-table.js"></script>
<script src="../../../../dist/js/bootstrap-table-zh-CN.js"></script>
<script>
      feather.replace();

</script>
<!-- Graphs -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.7.1/Chart.min.js"></script>
<!--<script>-->
    <!--$(function () {-->
    <!--var token = $("meta[name='_csrf']").attr("content");-->
    <!--var header = $("meta[name='_csrf_header']").attr("content");-->
    <!--$(document).ajaxSend(function (e, xhr, options) {-->
        <!--xhr.setRequestHeader(header, token);-->
    <!--});-->
<!--});-->
<!--</script>-->
<script>
   var userPerission;
   function loadHtml(href){
        $("#testDiv").load(href);
   }
   var list = document.querySelectorAll('.list');
   var list1 = document.querySelectorAll('.a');
   function accordion(e) {
       e.stopPropagation();
       if (this.classList.contains('active')) {
           if(this.parentElement.classList.contains('active')){

           }else{
               this.classList.remove('active');
           }
       } else
       if (this.parentElement.parentElement.classList.contains('active')) {
           this.classList.add('active');
       } else
       {
           for ( var i = 0; i < list.length; i++) {
               list[i].classList.remove('active');

           }
           this.classList.add('active');
       }
   }


   for ( var i = 0; i < list.length; i++) {
       list[i].addEventListener('click', accordion);
   }


   for (var i = 0; i < list1.length; i++) {
       list1[i].addEventListener('click', accordion1);
   }

   function accordion1(e) {
       e.stopPropagation();
       this.parentElement.parentElement.classList.add('active');
   }



   $(function(){
        $.ajax({
            type:'get',
            url:'/user/getUserInfo',
            data:"",
            contentType: "application/json;charset=UTF-8;",
            dataType:'json',
            success:function(data){
                userPerission=data;
                var userMods = userPerission.userModule;
                var role = $(".list");
                for(var i=0;i<role.length;i++){
                    if(role[i].id!=null&&role[i].id!=''){
                        $("#"+role[i].id+"").hide();
                    }
                }
                for(var i=0;i<userMods.length;i++){
                    for(var j=0;j<role.length;j++){
                        var str = "ROLE_"+role[j].id;
                        if(userMods[i]==str){
                            $("#"+role[j].id+"").show();
                        }
                    }
                }
                console.log(data);
            },
            error:function(){
                alert("请求失败");
            }
        });




   });
</script>


<!--<script>-->
<!--var ctx = document.getElementById("myChart");-->
<!--var myChart = new Chart(ctx, {-->
<!--type: 'line',-->
<!--data: {-->
<!--labels: ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"],-->
<!--datasets: [{-->
<!--data: [15339, 21345, 18483, 24003, 23489, 24092, 12034],-->
<!--lineTension: 0,-->
<!--backgroundColor: 'transparent',-->
<!--borderColor: '#007bff',-->
<!--borderWidth: 4,-->
<!--pointBackgroundColor: '#007bff'-->
<!--}]-->
<!--},-->
<!--options: {-->
<!--scales: {-->
<!--yAxes: [{-->
<!--ticks: {-->
<!--beginAtZero: false-->
<!--}-->
<!--}]-->
<!--},-->
<!--legend: {-->
<!--display: false,-->
<!--}-->
<!--}-->
<!--});-->
<!--</script>-->
</body>
</html>
